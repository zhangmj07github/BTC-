---
description: https://www.youtube.com/watch?v=zXlvkOSVM9M
---

# ğŸ¦œ PART 1 - syncing Bitcoin core, installing ord

å¦‚æœä¸æƒ³èŠ±43åˆ†é’Ÿçœ‹caseyå’Œerinæ‰“æƒ…éª‚ä¿ï¼Œé‚£ä¹ˆæˆ‘ä»¬æŠŠè¿™ä¸ªè§†é¢‘å†…å®¹æ‘˜å½•ä¸€ä¸‹ï¼Œå†åŠ ä¸Šæˆ‘è‡ªå·±çš„è¸©å‘å¿ƒå¾—ï¼Œå¸Œæœ›å¯ä»¥è®©å¤§å®¶å°‘èµ°å¼¯è·¯ã€‚å†æ¬¡è¯´æ˜ï¼Œæˆ‘åªæ˜¯ä¸€ä¸ªä¸æˆåŠŸçš„æŠ•èµ„äººå’Œä¸€ä¸ªè¹©è„šçš„ç¨‹åºå‘˜ï¼Œå› ä¸ºè§‰å¾—é“­æ–‡åœ¨æœªæ¥2-3å¹´éƒ½æœ‰åˆ›ä¸šå’ŒæŠ•èµ„æœºä¼šè€Œå­¦ä¹ ï¼Œæ‰€ä»¥å¯¹ä¸åŒæŠ•èµ„æ°´å¹³å’ŒæŠ€æœ¯æ°´å¹³çš„äººæ¥è¯´ï¼Œæˆ‘å†™çš„ä¸œè¥¿æœ‰çš„å¯èƒ½å¤ªæµ…äº†ï¼Œæœ‰çš„å¯èƒ½å¤ªæ·±äº†ï¼Œè¿˜è¯·å¤šå¤šåŒ…æ¶µã€‚



Caseyä¸€å¼€å§‹æ‰“å¼€Notepadå°±æ˜¯å†™äº†ä¸€ä¸ªæ—¥ç¨‹ï¼Œå¤§æ¦‚çš„æµç¨‹å¦‚ä¸‹ï¼š

:tada:\[x] homebrew install

:tada:\[x] bitcoincore install

:tada:\[x] start bitcoin&#x20;

:tada:\[x] install cargo with rustup

:tada:\[x] install ord server

é‡Œé¢Caseyç»™ç¾å¥³showäº†å¾ˆå¤šç”µè„‘æŠ€å·§ï¼Œä¹Ÿåšäº†ä¸€ä¸ªå¾ˆå¥½çš„MACç”µè„‘ä½¿ç”¨å’Œä¼˜ç§€ç¨‹åºå‘˜ä½¿ç”¨å·¥å…·çš„ç§‘æ™®ã€‚æˆ‘æƒ³èµ·å¤§å­¦çš„æ—¶å€™ç»™å­¦æ–‡ç§‘çš„åŒå­¦showå‘½ä»¤è¡Œå’Œå¿«æ·é”®ï¼ŒCaseyè¿™ä¸ªè§†é¢‘æ»¡è¶³ææŠ€æœ¯çš„ç”·ç”Ÿçš„ä¸€åˆ‡å¹»æƒ³ã€‚ä½†æ˜¯ï¼Œå¤§å­¦é‡Œå°±æ˜¯åœ¨åŒå­¦é¢å‰å¹å¹ç‰›çš®ï¼Œæ²¡æœ‰é’±ï¼›åœ¨Crytpoé¢†åŸŸï¼Œä½ æŠ€æœ¯å¥½å°±å¯ä»¥åœ¨å¼€æºç¤¾åŒºæŒ£å¤§é’±äº†ï¼Œä¸ç”¨å†é—´æ¥è·Ÿäº§å“å’Œé”€å”®æ‰“äº¤é“ï¼Œæœ‰äº†é’±è‡ªç„¶å°±æœ‰é¢œå¦‚ç‰ï¼Œä»è¿™ä¸€ç‚¹çœ‹ï¼ŒæŠ€æœ¯ç”·ä¸æå¸åœˆå°±å…¥é”™è¡Œäº†ã€‚

å…ˆè¯´ä¸‹æˆ‘é…ç½®çš„æƒ…å†µï¼Œæˆ‘æ˜¯2023å¹´çš„MacBOOK Proï¼Œè‹¹æœçš„M2èŠ¯ç‰‡ï¼Œæˆ‘å…ˆæ˜¯åœ¨Bitcore.orgé‡Œé¢ä¸‹äº†å›¾å½¢åŒ–ç•Œé¢çš„å®‰è£…åŒ…ï¼ˆbitcoin-25.0-arm64-apple-darwin.dmgï¼‰ï¼Œä½†æ˜¯å®ƒå®‰è£…ååªæœ‰qtå‘½ä»¤ï¼Œæ²¡æœ‰æˆ‘æ›´å–œæ¬¢æ›´é…·çš„bitcoindå’Œbitcoin-cliç­‰åå°å‘½ä»¤ï¼Œæ‰€ä»¥è¿˜æ˜¯è¦ç”¨åˆ°Caseyç¬¬ä¸€å°èŠ‚æåˆ°çš„homebrewã€‚

:tada:\[x] homebrew install

_Homebrewæ˜¯ä¸€ä¸ªåŒ…ç®¡ç†è½¯ä»¶ï¼Œè‡ªç§°æ˜¯_The Missing Package Manager for macOSã€‚æˆ‘ä»¬Google Homebrewå¯ä»¥æ‰“å¼€[https://brew.sh/](https://brew.sh/)ï¼Œ é‡Œé¢æœ‰ä¸€ä¸ªå®‰è£…è„šæœ¬

```shell
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

åœ¨Macbookçš„ç»ˆç«¯é‡Œï¼Œè¾“å…¥å°±å¯ä»¥å®‰è£…å¥½ã€‚å®‰è£…å¥½ä»¥åæˆ‘ä»¬è¿›å…¥ç¬¬äºŒæ­¥ã€‚

:tada:\[x] bitcoincore install&#x20;

åªéœ€è¦åœ¨ç»ˆç«¯è¾“å…¥

```
// brew install bitcoin
```

å°±å¯ä»¥å®‰è£…å¥½bitcoinæœ€æ–°ç‰ˆã€‚è¿™éå¸¸å¼ºå¤§ã€‚å¾ˆå¤šæ•™ç¨‹éƒ½æ˜¯è®©å»å®˜ç½‘ä¸‹è½½ï¼Œç„¶åè§£å‹ï¼Œç„¶åæŠŠbitcoincoreé‡Œé¢çš„å‘½ä»¤å¦‚bitcoin-cliï¼Œä»usrçš„binæ‹·åˆ°å…¨å±€çš„binæ–‡ä»¶å¤¹é‡Œï¼Œè¿˜è¦æ›´æ–°ç¯å¢ƒå˜é‡ï¼Œæ²¡ä¸€ç‚¹è®¡ç®—æœºåŸºç¡€çš„å¾ˆå¿«å°±æ™•äº†ï¼Œæœ‰ç‚¹åŸºç¡€çš„ä¹Ÿå®¹æ˜“åœ¨ç¯å¢ƒå˜é‡ç­‰åœ°æ–¹åå¤é…ç½®ï¼Œè®©äººå®¹æ˜“æ³„æ°”ã€‚æ‰€ä»¥_HomebrewæŠŠè¿™äº›éƒ½å®‰æ’å¥½äº†ï¼Œä½ åªéœ€è¦ä¸€å¥è¯å®‰è£…ï¼Œå°±okã€‚_

:tada:\[x] start bitcoin&#x20;

åˆ«å°çœ‹è¿™ä¸€æ­¥ï¼Œä¸å°±æ˜¯å¯åŠ¨bitcoincoreè¿™ä¸ªç¨‹åºå—ï¼Œå¾ˆå¤šå‘ã€‚ä¸€èˆ¬é»˜è®¤çš„bitcoincoreï¼Œå®ƒçš„æ•°æ®ç›®å½•æ˜¯åœ¨ä¸€ä¸ªé»˜è®¤çš„åœ°æ–¹æ¯”å¦‚ \~/Library/Application Support/Bitcoin/ ï¼Œä½†å¤§å®¶çš„ç¡¬ç›˜éƒ½ä¸å¤Ÿï¼Œæµè¡Œçš„åŠæ³•æ˜¯è¦å¤–æŒ‚ä¸€ä¸ª2Tçš„SSDï¼ˆé—ªå­˜ï¼‰ï¼Œä»·æ ¼åŸºæœ¬æ˜¯600-800å…ƒï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å¯åŠ¨ç¨‹åºï¼Œè¦ç”¨å‘½ä»¤ã€‚è¿™ä¸€ç‚¹æ˜¯Caseyçš„è§†é¢‘æ²¡è®²çš„ï¼Œä»–ä»¬çš„ç”µè„‘ä¸€ä¸Šæ¥å°±æœ‰1Tçš„è‡ªå¸¦ç¡¬ç›˜ã€‚æˆ‘çš„ç¡¬ç›˜åå­—å«Elementï¼Œé»˜è®¤æ˜¯æŒ‚è½½åœ¨/Volumesä¸‹ï¼Œæ‰€ä»¥æˆ‘å¯åŠ¨éœ€è¦è¿™ä¸ªå‘½ä»¤ï¼Œ-datadiræ˜¯è¯´æŠŠæ•°æ®ç›®å½•æ”¾åˆ°Elementç›˜ä¸‹çš„bitcoinç›®å½•ï¼Œ -txindexè¦æ±‚ä¸€å¼€å§‹å°±ç´¢å¼•ã€‚

```
// bitcoind -datadir=/Volumes/Element/bitcoin -txindex
```

å‡ ä¸ªå°ç‚¹ï¼š

A)æˆ‘ä¹°çš„ç¡¬ç›˜ä¸€å¼€å§‹åœ¨åŒæ­¥çš„æ—¶å€™è€æ˜¯åŒæ­¥å¤±è´¥ï¼ŒBitcoin Coreå®¢æˆ·ç«¯åœ¨å°è¯•å°†æ•°æ®å†™å…¥ç£ç›˜æ—¶é‡åˆ°äº†ä¸€ä¸ªä¸¥é‡çš„I/Oï¼ˆè¾“å…¥/è¾“å‡ºï¼‰é”™è¯¯ã€‚é”™è¯¯ä¿¡æ¯â€œFileCommit: fcntl F\_FULLFSYNC failed: 25â€è¡¨æ˜å°è¯•å¯¹æ–‡ä»¶è¿›è¡Œå®Œå…¨åŒæ­¥åˆ°ç£ç›˜çš„æ“ä½œå¤±è´¥äº†ã€‚ä¸€å¼€å§‹æˆ‘ä»¥ä¸ºæ˜¯æƒé™é—®é¢˜ï¼Œç”¨sudoä»€ä¹ˆçš„éƒ½è¯•è¿‡äº†ï¼Œè¿˜æ˜¯ä¸è¡Œã€‚

åæ¥æˆ‘åœ¨ç½‘ä¸Šçœ‹æœ‰ä¸€ä¸ªç»å…¸çš„å¸–å­è®¨è®º[https://github.com/bitcoin/bitcoin/issues/27972#issuecomment-1611123854\
](https://github.com/bitcoin/bitcoin/issues/27972#issuecomment-1611123854)ï¼Œæ˜¯å› ä¸ºç¡¬ç›˜çš„æ ¼å¼é—®é¢˜ï¼Œæˆ‘æ˜¯windowså’Œmacé€šç”¨çš„ExFATæ ¼å¼ï¼Œè¿™å¯¹bitcoinæ•°æ®çš„å†™å…¥æœ‰äº›ä¸å…¼å®¹ï¼Œè¦å…ˆæ ¼å¼åŒ–ä¸ºAPFSã€‚

B)è¦ç°åœ¨Elementsç›˜é‡ŒåŠ ä¸€ä¸ªæ–‡ä»¶å¤¹bitcoinæ‰è¡Œï¼Œä¸ç„¶ä¹Ÿé€šä¸è¿‡ã€‚

C)æœ€å¥½ä¸€å¼€å§‹å°±ä¿å­˜å¥½ä¸€ä¸ªæ–‡ä»¶ï¼Œbitcoin.confï¼Œæˆ‘æ€»ç»“å¦‚ä¸‹å†…å®¹æœ€ä½³

> txindex=1&#x20;
>
> server=1&#x20;
>
> daemon=1&#x20;
>
> rpccookiefile=.cookie&#x20;
>
> datadir=/Volumes/Element/bitcoin blocksdir=/Volumes/Element/bitcoin rpcauth=nextdao:cca838b4b19bdc6093f4e0312550361c$213834a29e8488804946c196781059a7ee0ac2b48dbf896b4c6852060d9d83dd&#x20;
>
> rpcallowip=127.0.0.1
>
> rpcallowip=172.0.0.0/8&#x20;
>
> rpcallowip=192.168.0.0/16
>
> rpcbind=0.0.0.0

ç„¶åæŠŠè¿™ä¸ªæ–‡ä»¶è´´åˆ°/Volumes/Element/bitcoin é‡Œé¢ï¼Œè¿™æ˜¯æƒé™æœ€é«˜çš„é…ç½®ï¼Œbitcoincoreå°±æŒ‰è¿™ä¸ªæ¥è¿è¡Œã€‚ è¿™é‡Œé¢éƒ½æ˜¯å•¥å«ä¹‰ï¼ŸæŠŠå®ƒå…¨éƒ¨ç²˜è´´é—®chatgptã€‚

D)è¿™é‡Œçš„rpcauth=nextdao:cca838b4b19bdc6093f4e0312550361c$213834a29e8488804946c196781059a7ee0ac2b48dbf896b4c6852060d9d83dd æœ¬è´¨å°±æ˜¯ç”¨æˆ·åä¸ºnextdaoï¼Œå¯†ç æ˜¯nextdaoï¼Œè¿™æ˜¯ç²˜è´´ä¹‹å‰nextdaoç»™atomicalåè®®å†™çš„æ•™ç¨‹ï¼Œä¹Ÿç®—è‡´æ•¬ä»–ä»¬ç›´æ¥ç”¨äº†ã€‚æœ‰äº†è¿™æ®µè¯ï¼Œå°±å¯ä»¥ç”¨bitcoin-cli -rpcuser=yourusername -rpcpassword=yourpassword getblockchaininfo æ¥ç™»å½•ï¼Œå¹¶è¿è¡Œä»£ç ï¼Œæ¯”å¦‚çœ‹getblockchaininfo ï¼ˆè¿™æ˜¯è§†é¢‘é‡ŒcaseyèŠ±äº†å¾ˆå¤šæ—¶é—´å›å¿†çš„å‘½ä»¤ï¼Œæœ€ågoogleåˆ°äº†ï¼Œçœ‹è¿™ä¸€æ®µå¾ˆèŠ±æ—¶é—´ï¼‰ã€‚

```
// bitcoin-cli -rpcuser=nextdao -rpcpassword=nextdaogetblockchaininfo

```

rpcauthå¾ˆé‡è¦ã€‚å¦‚æœä½ çš„æ¯”ç‰¹å¸å…¨èŠ‚ç‚¹åœ¨ä¸€ä¸ªç”µè„‘ï¼Œä½ è¦ç”¨å¦å¤–ä¸€ä¸ªç”µè„‘RPCï¼Œå¦‚æœæ˜¯æ˜æ–‡ç”¨æˆ·åå’Œå¯†ç å®¹æ˜“è¢«æ‹’ç»ã€‚è¿™æ—¶ä½ å¯èƒ½è¦æ’é™¤bitcoin.confçš„é…ç½®ï¼Œé˜²ç«å¢™é—®é¢˜ï¼Œåå¤æŸ¥å¾ˆä¹…åŸå› ã€‚å…¶å®æ˜¯å› ä¸ºæ–°ç‰ˆçš„RPCï¼Œè¦æ±‚æ›´å®‰å…¨çš„è¿æ¥æ–¹å¼ã€‚

å¦‚æœä½ æˆåŠŸè¿è¡Œbitcoincoreäº†ï¼Œä½ çš„æ•°æ®ç›®å½•Element\bitcoinæ˜¯å¾ˆå¹²å‡€çš„ï¼Œé‡Œé¢è¿˜æœ‰å‡ ä¸ªé‡è¦æ–‡ä»¶å¤¹å¦‚blocks(é‡Œé¢ä¸€å¤§å †datæ–‡ä»¶ï¼‰,chainstateï¼ˆé‡Œé¢ä¸€å¤§å †ldbæ–‡ä»¶ï¼‰ï¼Œindexesï¼ˆé‡Œé¢ä¹Ÿæœ‰å¾ˆå¤šldbï¼‰ï¼Œæ–‡ä»¶å¦‚debug.logï¼Œbitcoin.conf

å¦‚æœä½ è¦çœ‹çœ‹æ—¥å¿—ï¼Œåœ¨ç»ˆç«¯æ–°å»ºçª—å£ï¼Œè¾“å…¥

```
tail -f debug.log
```

åœ¨è¿™ä¸€å°èŠ‚ï¼Œè¿˜æœ‰ä¸€äº›å‘½ä»¤ç»å¸¸ç”¨ï¼Œæ¯”å¦‚åœæ­¢bitcoinç¨‹åºã€‚å› ä¸ºä½ ç²˜è´´äº†bitcoin.confï¼Œæ‰€ä»¥è¦é‡å¯

```
Bitcoin-cli stop
```

:tada:\[x] install cargo with rustup

è¿™ä¸»è¦æ˜¯å®‰è£…rustè¯­è¨€ç¯å¢ƒä»¥åŠå®‰è£…åŒ…ï¼Œcargo ç±»ä¼¼Pythoné‡Œçš„pipï¼ŒNodejsçš„npmã€‚çœ‹è§†é¢‘çš„[28:30](https://www.youtube.com/watch?v=zXlvkOSVM9M\&t=1710s) Install cargo with rustup æˆ–è€…ç›´æ¥é—®chatgpt.



:tada:\[x] install ord server

ä¸€å¥ä»£ç 

```
ord server
```

å®‰è£…ç´¢å¼•å™¨ã€‚åœ¨å®‰è£…ä¹‹å‰ï¼Œå»ºè®®å¤§å®¶ç”¨ä¸€ä¸ªpythonç¨‹åºï¼Œçœ‹çœ‹ä½ èƒ½å¦è¿œç¨‹å¯¹ä½ è¿è¡Œçš„bitcoincoreç¼–ç¨‹ï¼Ÿè¿™æ˜¯æˆ‘è·Ÿchatgptç£¨åˆå¾ˆä¹…å†™å‡ºæ¥çš„

```
import requests
import json

# æŒ‡å®šæ¯”ç‰¹å¸RPCæœåŠ¡å™¨çš„åœ°å€å’Œç«¯å£
# rpc_url = "http://192.168.10.57:8332"
# rpc_url = "http://127.0.0.1:8332"
# rpc_url = "http://192.168.10.11:8332"
# rpc_url = "http://221.216.144.195:8332"
# rpc_url = "http://192.168.1.96:8332"
rpc_url = "http://192.168.1.86:8332"
# æŒ‡å®šæ¯”ç‰¹å¸RPCç”¨æˆ·åå’Œå¯†ç 
rpc_credentials = ("nextdao", "nextdao")


def bitcoin_rpc(method, params):
    payload = {
        "method": method,
        "params": params,
        "jsonrpc": "2.0",
        "id": 0,
    }
    print("Request payload:", payload)  # æ‰“å°è¯·æ±‚å†…å®¹
    response = requests.post(rpc_url, json=payload, auth=rpc_credentials)

    # æ‰“å°å“åº”çš„çŠ¶æ€ç å’Œæ–‡æœ¬å†…å®¹
    print("Response status code:", response.status_code)
    print("Response text:", response.text)

    if response.status_code == 200:
        return json.loads(response.text)
    else:
        raise Exception("RPC request failed with status code {}: {}".format(response.status_code, response.text))


# ç¤ºä¾‹ï¼šè°ƒç”¨getblockchaininfoå’Œgetnetworkinfo å’Œ getblockcount
try:
    result = bitcoin_rpc("getblockchaininfo", [])
    print(result)
except Exception as e:
    print(f"Error: {str(e)}")
try:
    result = bitcoin_rpc("getnetworkinfo", [])
    print(result)
except Exception as e:
    print(f"Error: {str(e)}")
try:
    result = bitcoin_rpc("getblockcount", [])
    print(result)
except Exception as e:
    print(f"Error: {str(e)}")
```

å¦‚æœæˆåŠŸï¼Œä¼šæŠ¥200ï¼Œç»™ç±»ä¼¼å¦‚ä¸‹çš„ç»“æœã€‚æ³¨æ„æˆ‘è®°å½•å½“æ—¥å½“å‰æ¯”ç‰¹å¸æ˜¯824858ä¸ªåŒºå—ï¼Œ80å¤šä¸‡ä¸ªå§ã€‚å¦‚æœä½ çš„æ•°å­—å·®è·å¤ªå¤§è¦æ³¨æ„ã€‚

```
Request payload: {'method': 'getblockchaininfo', 'params': [], 'jsonrpc': '2.0', 'id': 0}
Response status code: 200
Response text: {"result":{"chain":"main","blocks":824858,"headers":824858,"bestblockhash":"00000000000000000003c42c52579dfb4bd3a9dbc64997b634bf94c0a323772d","difficulty":73197634206448.34,"time":1704718871,"mediantime":1704713627,"verificationprogress":0.9999998181796409,"initialblockdownload":false,"chainwork":"000000000000000000000000000000000000000064a1bfc6d211b8d17258c8e3","size_on_disk":612770777418,"pruned":false,"warnings":""},"error":null,"id":0}

{'result': {'chain': 'main', 'blocks': 824858, 'headers': 824858, 'bestblockhash': '00000000000000000003c42c52579dfb4bd3a9dbc64997b634bf94c0a323772d', 'difficulty': 73197634206448.34, 'time': 1704718871, 'mediantime': 1704713627, 'verificationprogress': 0.9999998181796409, 'initialblockdownload': False, 'chainwork': '000000000000000000000000000000000000000064a1bfc6d211b8d17258c8e3', 'size_on_disk': 612770777418, 'pruned': False, 'warnings': ''}, 'error': None, 'id': 0}
Request payload: {'method': 'getnetworkinfo', 'params': [], 'jsonrpc': '2.0', 'id': 0}

```

A)å¤šç”¨whichï¼Œçœ‹çœ‹ä½ è£…çš„cargoï¼Œ ord æœåŠ¡å™¨éƒ½åœ¨å“ªï¼Ÿè¿™ä¹Ÿæ˜¯è§†é¢‘å¤šæ¬¡æåˆ°çš„ã€‚

B)æˆ‘è¿è¡Œordçš„æ—¶å€™å‡ºç°æ‰¾ä¸åˆ°cookie: error: cookie file \`/Users/aaronzhang/Library/Application Support/Bitcoin/.cookie\` does not exist è¿™æ˜¯å› ä¸ºç™»å½•çš„æ–‡ä»¶æ‰¾ä¸åˆ°äº†ï¼Œéœ€è¦å¤åˆ¶ä¸€ä¸‹

```
ln -s /Volumes/Element/bitcoin/.cookie /Users/aaronzhang/Library/Application\ Support/Bitcoin/.cookie
```

Ordè¿è¡Œåï¼Œå°±ä¸€ç›´ç›‘å¬80çª—å£ï¼Œä¸€æ—¦æ¯”ç‰¹å¸æ ¸å¿ƒç¨‹åºæœ‰æ–°çš„åŒºå—åŒæ­¥ï¼Œä»–å°±ç´¢å¼•ã€‚

æ‰“å¼€ http://localhostï¼Œå¦‚æœä½ çœ‹åˆ°è·Ÿhttp://ordinals.comç±»ä¼¼çš„æ ·å­ï¼Œä½ å°±å®‰è£…è¿™ä¸ªç´¢å¼•å™¨æˆåŠŸäº†ã€‚

çœ‹çœ‹è§†é¢‘é‡Œç”·ä¸»å’Œç¾å¥³æ˜¯å¦‚ä½•åº†ç¥çš„ï¼Œ[41:20](https://www.youtube.com/watch?v=zXlvkOSVM9M\&t=2480s) Load local Ordinals Block Explorer çœ‹é‚£ä¸ªclock,å¦‚æœä½ çš„ç¨‹åºé‡Œä¹Ÿæœ‰ï¼Œä½ ä¹Ÿä¼šæœ‰æˆå°±æ„Ÿã€‚æ­å–œä½ ï¼Œå¼€å§‹æŒ£é’±äº†ã€‚

\








